const songs = [{
   "song_id": 1167,
   "title": "Alarm",
   "year": 2016,
   "artist": {
      "id": 9,
      "name": "Anne-Marie"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 206,
      "bpm": 147,
      "popularity": 62,
      "loudness": -5
   },
   "analytics": {
      "energy": 59,
      "danceability": 76,
      "liveness": 18,
      "valence": 81,
      "acousticness": 8,
      "speechiness": 23
   }
},
{
   "song_id": 1168,
   "title": "Into You",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 244,
      "bpm": 108,
      "popularity": 73,
      "loudness": -6
   },
   "analytics": {
      "energy": 73,
      "danceability": 62,
      "liveness": 14,
      "valence": 37,
      "acousticness": 2,
      "speechiness": 11
   }
},
{
   "song_id": 1169,
   "title": "Side To Side",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 226,
      "bpm": 159,
      "popularity": 72,
      "loudness": -6
   },
   "analytics": {
      "energy": 74,
      "danceability": 65,
      "liveness": 24,
      "valence": 61,
      "acousticness": 5,
      "speechiness": 23
   }
},
{
   "song_id": 1170,
   "title": "Dangerous Woman",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 236,
      "bpm": 134,
      "popularity": 72,
      "loudness": -5
   },
   "analytics": {
      "energy": 60,
      "danceability": 66,
      "liveness": 36,
      "valence": 29,
      "acousticness": 5,
      "speechiness": 4
   }
},
{
   "song_id": 1171,
   "title": "Sorry",
   "year": 2016,
   "artist": {
      "id": 17,
      "name": "Beyoncé"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 233,
      "bpm": 130,
      "popularity": 72,
      "loudness": -7
   },
   "analytics": {
      "energy": 60,
      "danceability": 78,
      "liveness": 25,
      "valence": 36,
      "acousticness": 0,
      "speechiness": 5
   }
}, {
   "song_id": 1167,
   "title": "Alarm",
   "year": 2016,
   "artist": {
      "id": 9,
      "name": "Anne-Marie"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 206,
      "bpm": 147,
      "popularity": 62,
      "loudness": -5
   },
   "analytics": {
      "energy": 59,
      "danceability": 76,
      "liveness": 18,
      "valence": 81,
      "acousticness": 8,
      "speechiness": 23
   }
},
{
   "song_id": 1168,
   "title": "Into You",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 244,
      "bpm": 108,
      "popularity": 73,
      "loudness": -6
   },
   "analytics": {
      "energy": 73,
      "danceability": 62,
      "liveness": 14,
      "valence": 37,
      "acousticness": 2,
      "speechiness": 11
   }
},
{
   "song_id": 1169,
   "title": "Side To Side",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 226,
      "bpm": 159,
      "popularity": 72,
      "loudness": -6
   },
   "analytics": {
      "energy": 74,
      "danceability": 65,
      "liveness": 24,
      "valence": 61,
      "acousticness": 5,
      "speechiness": 23
   }
},
{
   "song_id": 1170,
   "title": "Dangerous Woman",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 236,
      "bpm": 134,
      "popularity": 72,
      "loudness": -5
   },
   "analytics": {
      "energy": 60,
      "danceability": 66,
      "liveness": 36,
      "valence": 29,
      "acousticness": 5,
      "speechiness": 4
   }
},
{
   "song_id": 1171,
   "title": "Sorry",
   "year": 2016,
   "artist": {
      "id": 17,
      "name": "Beyoncé"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 233,
      "bpm": 130,
      "popularity": 72,
      "loudness": -7
   },
   "analytics": {
      "energy": 60,
      "danceability": 78,
      "liveness": 25,
      "valence": 36,
      "acousticness": 0,
      "speechiness": 5
   }
}, {
   "song_id": 1167,
   "title": "Alarm",
   "year": 2016,
   "artist": {
      "id": 9,
      "name": "Anne-Marie"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 206,
      "bpm": 147,
      "popularity": 62,
      "loudness": -5
   },
   "analytics": {
      "energy": 59,
      "danceability": 76,
      "liveness": 18,
      "valence": 81,
      "acousticness": 8,
      "speechiness": 23
   }
},
{
   "song_id": 1168,
   "title": "Into You",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 244,
      "bpm": 108,
      "popularity": 73,
      "loudness": -6
   },
   "analytics": {
      "energy": 73,
      "danceability": 62,
      "liveness": 14,
      "valence": 37,
      "acousticness": 2,
      "speechiness": 11
   }
},
{
   "song_id": 1169,
   "title": "Side To Side",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 226,
      "bpm": 159,
      "popularity": 72,
      "loudness": -6
   },
   "analytics": {
      "energy": 74,
      "danceability": 65,
      "liveness": 24,
      "valence": 61,
      "acousticness": 5,
      "speechiness": 23
   }
},
{
   "song_id": 1170,
   "title": "Dangerous Woman",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 236,
      "bpm": 134,
      "popularity": 72,
      "loudness": -5
   },
   "analytics": {
      "energy": 60,
      "danceability": 66,
      "liveness": 36,
      "valence": 29,
      "acousticness": 5,
      "speechiness": 4
   }
},
{
   "song_id": 1171,
   "title": "Sorry",
   "year": 2016,
   "artist": {
      "id": 17,
      "name": "Beyoncé"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 233,
      "bpm": 130,
      "popularity": 72,
      "loudness": -7
   },
   "analytics": {
      "energy": 60,
      "danceability": 78,
      "liveness": 25,
      "valence": 36,
      "acousticness": 0,
      "speechiness": 5
   }
}, {
   "song_id": 1167,
   "title": "Alarm",
   "year": 2016,
   "artist": {
      "id": 9,
      "name": "Anne-Marie"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 206,
      "bpm": 147,
      "popularity": 62,
      "loudness": -5
   },
   "analytics": {
      "energy": 59,
      "danceability": 76,
      "liveness": 18,
      "valence": 81,
      "acousticness": 8,
      "speechiness": 23
   }
},
{
   "song_id": 1168,
   "title": "Into You",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 244,
      "bpm": 108,
      "popularity": 73,
      "loudness": -6
   },
   "analytics": {
      "energy": 73,
      "danceability": 62,
      "liveness": 14,
      "valence": 37,
      "acousticness": 2,
      "speechiness": 11
   }
},
{
   "song_id": 1169,
   "title": "Side To Side",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 226,
      "bpm": 159,
      "popularity": 72,
      "loudness": -6
   },
   "analytics": {
      "energy": 74,
      "danceability": 65,
      "liveness": 24,
      "valence": 61,
      "acousticness": 5,
      "speechiness": 23
   }
},
{
   "song_id": 1170,
   "title": "Dangerous Woman",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 236,
      "bpm": 134,
      "popularity": 72,
      "loudness": -5
   },
   "analytics": {
      "energy": 60,
      "danceability": 66,
      "liveness": 36,
      "valence": 29,
      "acousticness": 5,
      "speechiness": 4
   }
},
{
   "song_id": 1171,
   "title": "Sorry",
   "year": 2016,
   "artist": {
      "id": 17,
      "name": "Beyoncé"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 233,
      "bpm": 130,
      "popularity": 72,
      "loudness": -7
   },
   "analytics": {
      "energy": 60,
      "danceability": 78,
      "liveness": 25,
      "valence": 36,
      "acousticness": 0,
      "speechiness": 5
   }
}, {
   "song_id": 1167,
   "title": "Alarm",
   "year": 2016,
   "artist": {
      "id": 9,
      "name": "Anne-Marie"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 206,
      "bpm": 147,
      "popularity": 62,
      "loudness": -5
   },
   "analytics": {
      "energy": 59,
      "danceability": 76,
      "liveness": 18,
      "valence": 81,
      "acousticness": 8,
      "speechiness": 23
   }
},
{
   "song_id": 1168,
   "title": "Into You",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 244,
      "bpm": 108,
      "popularity": 73,
      "loudness": -6
   },
   "analytics": {
      "energy": 73,
      "danceability": 62,
      "liveness": 14,
      "valence": 37,
      "acousticness": 2,
      "speechiness": 11
   }
},
{
   "song_id": 1169,
   "title": "Side To Side",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 226,
      "bpm": 159,
      "popularity": 72,
      "loudness": -6
   },
   "analytics": {
      "energy": 74,
      "danceability": 65,
      "liveness": 24,
      "valence": 61,
      "acousticness": 5,
      "speechiness": 23
   }
},
{
   "song_id": 1170,
   "title": "Dangerous Woman",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 236,
      "bpm": 134,
      "popularity": 72,
      "loudness": -5
   },
   "analytics": {
      "energy": 60,
      "danceability": 66,
      "liveness": 36,
      "valence": 29,
      "acousticness": 5,
      "speechiness": 4
   }
},
{
   "song_id": 1171,
   "title": "Sorry",
   "year": 2016,
   "artist": {
      "id": 17,
      "name": "Beyoncé"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 233,
      "bpm": 130,
      "popularity": 72,
      "loudness": -7
   },
   "analytics": {
      "energy": 60,
      "danceability": 78,
      "liveness": 25,
      "valence": 36,
      "acousticness": 0,
      "speechiness": 5
   }
}, {
   "song_id": 1167,
   "title": "Alarm",
   "year": 2016,
   "artist": {
      "id": 9,
      "name": "Anne-Marie"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 206,
      "bpm": 147,
      "popularity": 62,
      "loudness": -5
   },
   "analytics": {
      "energy": 59,
      "danceability": 76,
      "liveness": 18,
      "valence": 81,
      "acousticness": 8,
      "speechiness": 23
   }
},
{
   "song_id": 1168,
   "title": "Into You",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 244,
      "bpm": 108,
      "popularity": 73,
      "loudness": -6
   },
   "analytics": {
      "energy": 73,
      "danceability": 62,
      "liveness": 14,
      "valence": 37,
      "acousticness": 2,
      "speechiness": 11
   }
},
{
   "song_id": 1169,
   "title": "Side To Side",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 226,
      "bpm": 159,
      "popularity": 72,
      "loudness": -6
   },
   "analytics": {
      "energy": 74,
      "danceability": 65,
      "liveness": 24,
      "valence": 61,
      "acousticness": 5,
      "speechiness": 23
   }
},
{
   "song_id": 1170,
   "title": "Dangerous Woman",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 236,
      "bpm": 134,
      "popularity": 72,
      "loudness": -5
   },
   "analytics": {
      "energy": 60,
      "danceability": 66,
      "liveness": 36,
      "valence": 29,
      "acousticness": 5,
      "speechiness": 4
   }
},
{
   "song_id": 1171,
   "title": "Sorry",
   "year": 2016,
   "artist": {
      "id": 17,
      "name": "Beyoncé"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 233,
      "bpm": 130,
      "popularity": 72,
      "loudness": -7
   },
   "analytics": {
      "energy": 60,
      "danceability": 78,
      "liveness": 25,
      "valence": 36,
      "acousticness": 0,
      "speechiness": 5
   }
}, {
   "song_id": 1167,
   "title": "Alarm",
   "year": 2016,
   "artist": {
      "id": 9,
      "name": "Anne-Marie"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 206,
      "bpm": 147,
      "popularity": 62,
      "loudness": -5
   },
   "analytics": {
      "energy": 59,
      "danceability": 76,
      "liveness": 18,
      "valence": 81,
      "acousticness": 8,
      "speechiness": 23
   }
},
{
   "song_id": 1168,
   "title": "Into You",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 244,
      "bpm": 108,
      "popularity": 73,
      "loudness": -6
   },
   "analytics": {
      "energy": 73,
      "danceability": 62,
      "liveness": 14,
      "valence": 37,
      "acousticness": 2,
      "speechiness": 11
   }
},
{
   "song_id": 1169,
   "title": "Side To Side",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 226,
      "bpm": 159,
      "popularity": 72,
      "loudness": -6
   },
   "analytics": {
      "energy": 74,
      "danceability": 65,
      "liveness": 24,
      "valence": 61,
      "acousticness": 5,
      "speechiness": 23
   }
},
{
   "song_id": 1170,
   "title": "Dangerous Woman",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 236,
      "bpm": 134,
      "popularity": 72,
      "loudness": -5
   },
   "analytics": {
      "energy": 60,
      "danceability": 66,
      "liveness": 36,
      "valence": 29,
      "acousticness": 5,
      "speechiness": 4
   }
},
{
   "song_id": 1171,
   "title": "Sorry",
   "year": 2016,
   "artist": {
      "id": 17,
      "name": "Beyoncé"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 233,
      "bpm": 130,
      "popularity": 72,
      "loudness": -7
   },
   "analytics": {
      "energy": 60,
      "danceability": 78,
      "liveness": 25,
      "valence": 36,
      "acousticness": 0,
      "speechiness": 5
   }
}, {
   "song_id": 1167,
   "title": "Alarm",
   "year": 2016,
   "artist": {
      "id": 9,
      "name": "Anne-Marie"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 206,
      "bpm": 147,
      "popularity": 62,
      "loudness": -5
   },
   "analytics": {
      "energy": 59,
      "danceability": 76,
      "liveness": 18,
      "valence": 81,
      "acousticness": 8,
      "speechiness": 23
   }
},
{
   "song_id": 1168,
   "title": "Into You",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 244,
      "bpm": 108,
      "popularity": 73,
      "loudness": -6
   },
   "analytics": {
      "energy": 73,
      "danceability": 62,
      "liveness": 14,
      "valence": 37,
      "acousticness": 2,
      "speechiness": 11
   }
},
{
   "song_id": 1169,
   "title": "Side To Side",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 226,
      "bpm": 159,
      "popularity": 72,
      "loudness": -6
   },
   "analytics": {
      "energy": 74,
      "danceability": 65,
      "liveness": 24,
      "valence": 61,
      "acousticness": 5,
      "speechiness": 23
   }
},
{
   "song_id": 1170,
   "title": "Dangerous Woman",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 236,
      "bpm": 134,
      "popularity": 72,
      "loudness": -5
   },
   "analytics": {
      "energy": 60,
      "danceability": 66,
      "liveness": 36,
      "valence": 29,
      "acousticness": 5,
      "speechiness": 4
   }
},
{
   "song_id": 1171,
   "title": "Sorry",
   "year": 2016,
   "artist": {
      "id": 17,
      "name": "Beyoncé"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 233,
      "bpm": 130,
      "popularity": 72,
      "loudness": -7
   },
   "analytics": {
      "energy": 60,
      "danceability": 78,
      "liveness": 25,
      "valence": 36,
      "acousticness": 0,
      "speechiness": 5
   }
}, {
   "song_id": 1167,
   "title": "Alarm",
   "year": 2016,
   "artist": {
      "id": 9,
      "name": "Anne-Marie"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 206,
      "bpm": 147,
      "popularity": 62,
      "loudness": -5
   },
   "analytics": {
      "energy": 59,
      "danceability": 76,
      "liveness": 18,
      "valence": 81,
      "acousticness": 8,
      "speechiness": 23
   }
},
{
   "song_id": 1168,
   "title": "Into You",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 244,
      "bpm": 108,
      "popularity": 73,
      "loudness": -6
   },
   "analytics": {
      "energy": 73,
      "danceability": 62,
      "liveness": 14,
      "valence": 37,
      "acousticness": 2,
      "speechiness": 11
   }
},
{
   "song_id": 1169,
   "title": "Side To Side",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 226,
      "bpm": 159,
      "popularity": 72,
      "loudness": -6
   },
   "analytics": {
      "energy": 74,
      "danceability": 65,
      "liveness": 24,
      "valence": 61,
      "acousticness": 5,
      "speechiness": 23
   }
},
{
   "song_id": 1170,
   "title": "Dangerous Woman",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 236,
      "bpm": 134,
      "popularity": 72,
      "loudness": -5
   },
   "analytics": {
      "energy": 60,
      "danceability": 66,
      "liveness": 36,
      "valence": 29,
      "acousticness": 5,
      "speechiness": 4
   }
},
{
   "song_id": 1171,
   "title": "Sorry",
   "year": 2016,
   "artist": {
      "id": 17,
      "name": "Beyoncé"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 233,
      "bpm": 130,
      "popularity": 72,
      "loudness": -7
   },
   "analytics": {
      "energy": 60,
      "danceability": 78,
      "liveness": 25,
      "valence": 36,
      "acousticness": 0,
      "speechiness": 5
   }
}, {
   "song_id": 1167,
   "title": "Alarm",
   "year": 2016,
   "artist": {
      "id": 9,
      "name": "Anne-Marie"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 206,
      "bpm": 147,
      "popularity": 62,
      "loudness": -5
   },
   "analytics": {
      "energy": 59,
      "danceability": 76,
      "liveness": 18,
      "valence": 81,
      "acousticness": 8,
      "speechiness": 23
   }
},
{
   "song_id": 1168,
   "title": "Into You",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 244,
      "bpm": 108,
      "popularity": 73,
      "loudness": -6
   },
   "analytics": {
      "energy": 73,
      "danceability": 62,
      "liveness": 14,
      "valence": 37,
      "acousticness": 2,
      "speechiness": 11
   }
},
{
   "song_id": 1169,
   "title": "Side To Side",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 226,
      "bpm": 159,
      "popularity": 72,
      "loudness": -6
   },
   "analytics": {
      "energy": 74,
      "danceability": 65,
      "liveness": 24,
      "valence": 61,
      "acousticness": 5,
      "speechiness": 23
   }
},
{
   "song_id": 1170,
   "title": "Dangerous Woman",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 236,
      "bpm": 134,
      "popularity": 72,
      "loudness": -5
   },
   "analytics": {
      "energy": 60,
      "danceability": 66,
      "liveness": 36,
      "valence": 29,
      "acousticness": 5,
      "speechiness": 4
   }
},
{
   "song_id": 1171,
   "title": "Sorry",
   "year": 2016,
   "artist": {
      "id": 17,
      "name": "Beyoncé"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 233,
      "bpm": 130,
      "popularity": 72,
      "loudness": -7
   },
   "analytics": {
      "energy": 60,
      "danceability": 78,
      "liveness": 25,
      "valence": 36,
      "acousticness": 0,
      "speechiness": 5
   }
}
]

const playlist = [{
   "song_id": 1170,
   "title": "Dangerous Woman",
   "year": 2016,
   "artist": {
      "id": 11,
      "name": "Ariana Grande"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 236,
      "bpm": 134,
      "popularity": 72,
      "loudness": -5
   },
   "analytics": {
      "energy": 60,
      "danceability": 66,
      "liveness": 36,
      "valence": 29,
      "acousticness": 5,
      "speechiness": 4
   }
},
{
   "song_id": 1171,
   "title": "Sorry",
   "year": 2016,
   "artist": {
      "id": 17,
      "name": "Beyoncé"
   },
   "genre": {
      "id": 110,
      "name": "dance pop"
   },
   "details": {
      "duration": 233,
      "bpm": 130,
      "popularity": 72,
      "loudness": -7
   },
   "analytics": {
      "energy": 60,
      "danceability": 78,
      "liveness": 25,
      "valence": 36,
      "acousticness": 0,
      "speechiness": 5
   }
}


]
/* url of song api --- https versions hopefully a little later this semester */
const api = 'http://www.randyconnolly.com/funwebdev/3rd/api/music/songs-nested.php';


/* note: you may get a CORS error if you try fetching this locally (i.e., directly from a
   local file). To work correctly, this needs to be tested on a local web server.  
   Some possibilities: if using Visual Code, use Live Server extension; if Brackets,
   use built-in Live Preview.
*/

const browser = document.querySelector("#browseSongsView")
const singleSongView = document.querySelector("#singleSongView")
const closeBtn = document.querySelector("#close")
const playlistBtn = document.querySelector("#playlistBtn")
const playlistView = document.querySelector("#playlistView")


const creditButton = document.querySelector("#creditButton");
function creditButtonHandler() {
   let myDropdown = document.querySelector("#x  ");
   myDropdown.classList.toggle("dropDown-hidden");
   myDropdown.classList.toggle("dropdown-content")
}

creditButton.addEventListener("click", creditButtonHandler);

const clearButton = document.querySelector("#clearButton");
function clearButtonHandler() {
   const texts = document.querySelectorAll("input[type=text]");
   //clear textboxes here
}

clearButton.addEventListener("click", clearButtonHandler);

const searchButton = document.querySelector("#searchButton");
function searchButtonHandler() {
   alert("Searched!")
}

searchButton.addEventListener("click", searchButtonHandler);

function getTableData(song) {
   const title = document.createElement("td")
   title.setAttribute('id', song.song_id)
   title.textContent = song.title

   const artist = document.createElement("td")
   artist.setAttribute('id', song.artist.id)
   artist.textContent = song.artist.name

   const year = document.createElement("td")
   year.setAttribute('id', song.year)
   year.textContent = song.year

   const genre = document.createElement("td")
   genre.setAttribute('id', song.genre.id)
   genre.textContent = song.genre.name

   const popularity = document.createElement("td")
   popularity.setAttribute('id', song.details.popularity)
   popularity.textContent = song.details.popularity

   return { title, artist, year, genre, popularity }
}

function getAddBtn(song) {
   const addBtn = document.createElement("button")
   addBtn.classList.add("btn")
   addBtn.setAttribute('id', song.song_id)
   addBtn.textContent = "Add"

   return addBtn
}

function getRemoveBtn(song) {
   const removeBtn = document.createElement("button")
   removeBtn.classList.add("btn")
   removeBtn.setAttribute('id', song.song_id)
   removeBtn.textContent = "Remove"

   return removeBtn
}


function loadTable(type) {
   if (type == 'songs') {
      const tBody = document.querySelector(".songTable tbody")

      for (let song of songs) {
         const tableData = getTableData(song)
         const addBtn = getAddBtn(song)

         const newRow = document.createElement("tr")
         newRow.setAttribute('id', "tableRow")

         newRow.appendChild(tableData.title)
         newRow.appendChild(tableData.artist)
         newRow.appendChild(tableData.year)
         newRow.appendChild(tableData.genre)
         newRow.appendChild(tableData.popularity)
         newRow.appendChild(addBtn)

         tBody.appendChild(newRow)
      }

      tBody.addEventListener('click', showSongDetails)
      tBody.addEventListener('click', addToPlaylist)
   } else if (type == 'playlist') {
      const tBody = document.querySelector("#playlistTable .songTable tbody")
      removeAllChildNodes(tBody)
      for (let song of playlist) {
         const tableData = getTableData(song)
         const removeBtn = getRemoveBtn(song)

         const newRow = document.createElement("tr")
         newRow.setAttribute('id', "tableRow")

         newRow.appendChild(tableData.title)
         newRow.appendChild(tableData.artist)
         newRow.appendChild(tableData.year)
         newRow.appendChild(tableData.genre)
         newRow.appendChild(tableData.popularity)
         newRow.appendChild(removeBtn)

         tBody.appendChild(newRow)  
      }

      tBody.addEventListener('click', removeFromPlaylist)
   }
}

function getSong(songId) {
   return songs.find(song => song.song_id == songId)
}

function addToPlaylist(e) {
   if(e.target && e.target.nodeName =="BUTTON"){
      const songId = e.target.id
      const song = getSong(songId)
      console.log(songId)
      playlist.push(song)
   }
}

function removeFromPlaylist(e){
   if(e.target && e.target.nodeName =="BUTTON"){
      const songId = e.target.id
      const song = getSong(songId)
      console.log(songId)
      playlist.pop(song)   
      loadTable('playlist')
   }
}

function showSongDetails(e) {
   if (e.target && e.target.nodeName == "TD") {
      playlistBtn.classList.add("hide")
      closeBtn.classList.remove("hide")
      browser.classList.add("hide")
      singleSongView.classList.remove("hide")

   }
}

const closeView = document.querySelector("#close")
closeView.addEventListener('click', showBrowseSongsView)

function showBrowseSongsView() {
   playlistBtn.classList.remove("hide")
   closeBtn.classList.add("hide")
   browser.classList.remove("hide")
   singleSongView.classList.add("hide")
   playlistView.classList.add("hide")
}

const playListBtn = document.querySelector("#playlistBtn")
playListBtn.addEventListener('click', function () {
   
   
   playlistBtn.classList.add("hide")
   closeBtn.classList.remove("hide")
   browser.classList.add("hide")
   playlistView.classList.remove("hide")

   loadTable("playlist")
})

const clearPlaylistBtn = document.querySelector("#clearPlaylist")
clearPlaylistBtn.addEventListener('click', function(){
   while(playlist.length > 0){
      playlist.pop()
   }
   loadTable('playlist')
})

function removeAllChildNodes(parent) {
   while (parent.firstChild) {
       parent.removeChild(parent.firstChild);
   }
}

document.addEventListener("DOMContentLoaded", function () {
   loadTable("songs")

})
